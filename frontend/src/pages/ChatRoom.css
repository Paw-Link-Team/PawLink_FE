/* frontend/src/pages/ChatRoom.css */

/* =========================
   ChatRoom CLEAN (2ë²ˆ ê¸°ì¤€)
   ========================= */

.cr-screen {
  width: 100%;
  min-height: 100vh;
  background: var(--bg-white);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* ìƒíƒœë°” */
.cr-status {
  height: 28px;
  background: var(--bg-white);
}

/* ìƒë‹¨ë°” */
.cr-topbar {
  height: 44px;
  background: var(--bg-soft);
  border-bottom: 1px solid var(--line-soft);
  display: grid;
  grid-template-columns: 44px 1fr 44px;
  align-items: center;
}

.cr-ico-btn {
  width: 44px;
  height: 44px;
  border: none;
  background: transparent;
  color: var(--c-deep);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cr-ico-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.cr-name {
  font-size: 16px;
  font-weight: 800;
  color: var(--c-deep);
  line-height: 1;
}

.cr-title-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ìƒë‹¨ ê²Œì‹œê¸€ ì¹´ë“œ */
.cr-post {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  background: var(--bg-white);
  border-bottom: 1px solid var(--line-soft);
}

.cr-post-thumb {
  width: 34px;
  height: 34px;
  border-radius: 8px;
  background: var(--c-brand);
  display: flex;
  align-items: center;
  justify-content: center;
}

.cr-post-thumb::after {
  content: "ğŸ—»";
  font-size: 16px;
  color: #fff;
  line-height: 1;
}

.cr-post-title {
  font-size: 13px;
  font-weight: 900;
  color: var(--c-deep);
}

.cr-post-sub {
  font-size: 12px;
  color: var(--c-sand);
  margin-top: 2px;
}

/* ì±„íŒ… ì˜ì—­ */
.cr-chat {
  flex: 1;
  padding: 10px 14px 120px; /* âœ… ì…ë ¥ë°”ì— ê°€ë ¤ì§€ì§€ ì•Šê²Œ ì—¬ìœ  */
  overflow-y: auto;
  background: var(--bg-white);
}

.cr-date {
  width: fit-content;
  margin: 10px auto 12px;
  font-size: 12px;
  color: var(--c-sand);
  padding: 0 10px;
}

/* ë©”ì‹œì§€ row */
.cr-row {
  display: flex;
  gap: 8px;
  margin: 6px 0;
  align-items: flex-end;
}

.cr-row.left {
  justify-content: flex-start;
}

.cr-row.right {
  justify-content: flex-end;
}

/* ì™¼ìª½ ì•„ë°”íƒ€(ìƒëŒ€ë§Œ) */
.cr-mini-ava {
  width: 28px !important;
  height: 28px !important;
  border-radius: 50% !important;
  background: #75401f !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  flex: 0 0 auto !important;
}

.cr-mini-ava.ghost {
  opacity: 0 !important;
}

.cr-mini-ava::after {
  content: "" !important;
  width: 14px !important;
  height: 14px !important;
  background: #ffffff !important;
  -webkit-mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 15'><path d='M7.5 6.25C7.78727 6.25 8.07172 6.19342 8.33712 6.08349C8.60252 5.97355 8.84367 5.81242 9.0468 5.6093C9.24992 5.40617 9.41105 5.16502 9.52099 4.89962C9.63092 4.63422 9.6875 4.34977 9.6875 4.0625C9.6875 3.77523 9.63092 3.49078 9.52099 3.22538C9.41105 2.95998 9.24992 2.71883 9.0468 2.5157C8.84367 2.31258 8.60252 2.15145 8.33712 2.04151C8.07172 1.93158 7.78727 1.875 7.5 1.875C6.91984 1.875 6.36344 2.10547 5.9532 2.5157C5.54297 2.92594 5.3125 3.48234 5.3125 4.0625C5.3125 4.64266 5.54297 5.19906 5.9532 5.6093C6.36344 6.01953 6.91984 6.25 7.5 6.25ZM1.875 12.75V13.125H13.125V12.75C13.125 11.35 13.125 10.65 12.8525 10.115C12.6128 9.64462 12.2304 9.26218 11.76 9.0225C11.225 8.75 10.525 8.75 9.125 8.75H5.875C4.475 8.75 3.775 8.75 3.24 9.0225C2.76962 9.26218 2.38718 9.64462 2.1475 10.115C1.875 10.65 1.875 11.35 1.875 12.75Z'/></svg>") center / contain no-repeat;
  mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 15'><path d='M7.5 6.25C7.78727 6.25 8.07172 6.19342 8.33712 6.08349C8.60252 5.97355 8.84367 5.81242 9.0468 5.6093C9.24992 5.40617 9.41105 5.16502 9.52099 4.89962C9.63092 4.63422 9.6875 4.34977 9.6875 4.0625C9.6875 3.77523 9.63092 3.49078 9.52099 3.22538C9.41105 2.95998 9.24992 2.71883 9.0468 2.5157C8.84367 2.31258 8.60252 2.15145 8.33712 2.04151C8.07172 1.93158 7.78727 1.875 7.5 1.875C6.91984 1.875 6.36344 2.10547 5.9532 2.5157C5.54297 2.92594 5.3125 3.48234 5.3125 4.0625C5.3125 4.64266 5.54297 5.19906 5.9532 5.6093C6.36344 6.01953 6.91984 6.25 7.5 6.25ZM1.875 12.75V13.125H13.125V12.75C13.125 11.35 13.125 10.65 12.8525 10.115C12.6128 9.64462 12.2304 9.26218 11.76 9.0225C11.225 8.75 10.525 8.75 9.125 8.75H5.875C4.475 8.75 3.775 8.75 3.24 9.0225C2.76962 9.26218 2.38718 9.64462 2.1475 10.115C1.875 10.65 1.875 11.35 1.875 12.75Z'/></svg>") center / contain no-repeat;
}

/* ë§í’ì„ +ì‹œê°„ ë˜í¼ */
.cr-msgline {
  display: inline-flex;
  width: fit-content;
  max-width: 74%;
  gap: 6px;
  align-items: flex-end;
}

.cr-msgline.left {
  margin-right: auto;
  flex-direction: row;
}

.cr-msgline.right {
  margin-left: auto;
  flex-direction: row;
  justify-content: flex-end;
}

/* ë§í’ì„  */
.cr-bubble {
  padding: 8px 11px;
  font-size: 12.5px;
  line-height: 1.35;
  border-radius: 14px;
}

.cr-bubble.left {
  background: var(--bg-soft);
  color: var(--c-deep);
  border-top-left-radius: 6px;
}

.cr-bubble.right {
  background: var(--c-brand);
  color: #ffffff;
  border-top-right-radius: 6px;
}

.cr-time {
  font-size: 10px;
  color: var(--c-sand);
  white-space: nowrap;
  margin-bottom: 1px;
}

.cr-chat-empty {
  padding: 32px 16px;
  text-align: center;
  font-size: 13px;
  color: var(--c-sand);
}

.cr-chat-empty.error {
  color: #b3261e;
}

/* âœ… í•˜ë‹¨ ì…ë ¥ ë°”: absolute -> fixed (í‚¤ë³´ë“œ íŠ ë°©ì§€) */
.cr-bottom {
  position: fixed;
  left: 50%;
  bottom: 0;
  width: min(390px, 100%);
  z-index: 50;
  padding-bottom: env(safe-area-inset-bottom);
  transition: transform 0.2s ease;
}

/* ì…ë ¥ë°” */
.cr-inputbar {
  height: 64px;
  background: var(--bg-soft);
  border-top: 1px solid var(--line-soft);
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 0 12px;
}

.cr-plus {
  border: none;
  background: transparent;
  font-size: 22px;
  color: var(--c-deep);
  cursor: pointer;
  padding: 0 4px;
}

.cr-inputbox {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--bg-white);
  border-radius: 14px;
  padding: 10px 12px;
  border: 1px solid var(--line-soft);
}

.cr-paw {
  font-size: 14px;
  opacity: 0.9;
}

.cr-inputbox input {
  width: 100%;
  border: none;
  outline: none;
  font-size: 14px;
  background: transparent;
  color: var(--c-deep);
}

.cr-inputbox input::placeholder {
  color: var(--c-sand);
}

.cr-send {
  border: none;
  background: transparent;
  font-size: 18px;
  color: var(--c-deep);
  cursor: pointer;
  padding: 0 4px;
}

.cr-send:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* í”ŒëŸ¬ìŠ¤ íŒ¨ë„ */
.cr-plus-panel {
  background: var(--bg-soft);
  border-top: 1px solid var(--line-soft);
  padding: 14px 18px 18px;
  display: flex;
  justify-content: space-evenly;
  gap: 10px;
}

.cr-plus-item {
  width: 84px;
  border: none;
  background: transparent;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.cr-plus-item:disabled {
  cursor: not-allowed;
}

.cr-plus-item:disabled .cr-plus-icon,
.cr-plus-item:disabled .cr-plus-label {
  opacity: 0.4;
}

.cr-plus-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: var(--bg-white);
  border: 1px solid var(--line-soft);
  color: var(--c-deep);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
}

.cr-plus-label {
  font-size: 12px;
  color: var(--c-deep);
  font-weight: 700;
}

/* âœ… bottomìœ¼ë¡œ ë°€ì§€ ì•ŠìŒ (í•˜ë“œì½”ë”© ì œê±°) */
.cr-bottom.keyboard-open {
  bottom: 0;
}

.cr-bottom.plus-open {
  bottom: 0;
}

/* ìˆ¨ê¹€ input */
.cr-hidden-file {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* =========================
   âœ… CALL MODAL (ì „í™” íŒì—…)
   ========================= */

.cr-modal-dim {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.38);
  display: grid;
  place-items: center;
  z-index: 9999;
}

.cr-modal-card {
  width: min(280px, calc(100% - 56px));
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.18);
  padding: 18px 16px 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.cr-modal-ico {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  background: rgba(242, 232, 221, 0.85);
  color: var(--c-brand);
  display: grid;
  place-items: center;
  margin-bottom: 10px;
}

.cr-modal-text {
  font-size: 13px;
  font-weight: 800;
  color: var(--c-deep);
  text-align: center;
  margin-bottom: 14px;
}

.cr-modal-actions {
  width: 100%;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.cr-modal-btn {
  height: 34px;
  border-radius: 10px;
  font-size: 12px;
  font-weight: 800;
  cursor: pointer;
}

.cr-modal-btn.ghost {
  border: 1px solid var(--line-soft);
  background: #ffffff;
  color: var(--c-deep);
}

.cr-modal-btn.primary {
  border: none;
  background: var(--c-brand);
  color: #ffffff;
}
